---
title: pr素材代理與簡單應用
tags: ["Pr","影視"]
updated: 2018-03-13
date: 2018-03-13
categories: "影視"
---


後期剪輯可能會遇到以下問題

- 素材量巨大或有高解析如4K素材，電腦太爛帶不動
- 需要把視頻交付給別人去剪輯，素材很多很大，上傳網速太慢

使用pr自帶的自動代理功能可以有效解決

![](/asset/images/技术/proxy/00.png)

基本思路是，把巨大的素材轉換成一個小的，可以完成基礎剪輯、音頻校驗等工作的視頻素材，以降低CPU在解析素材的時間和硬盤使用率，從而提高處理速度。缺點在於對畫面細節丟失精度，比如在穩定器的計算等等。

當需要別人參與剪輯的時候，只需要將代理文件打包好，交付給對方即可。

筆者使用pr版本提供兩種代理手段：

- **手動** 創建代理或鏈接已有代理
  ![](/asset/images/技术/proxy/01-1.png)

- 收錄時 **自動** 創建代理（下文介紹）

# 代理素材實現高計算量剪輯

![](/asset/images/技术/proxy/01.png)

![](/asset/images/技术/proxy/02.png)

首先自然要把素材歸類到一個文件夾中，並在旁邊新建一個pr工程

![](/asset/images/技术/proxy/03.png)

在收錄設置中，選擇創建代理。當然目錄建議是放在同一個文件夾，我新建了一個“素材代理”

![](/asset/images/技术/proxy/04.png)

其中的預設建議使用GoPro的方案，體積相對H.264較大，該編碼專門針對視頻中間代理文件，較大程度保留精度。若沒有 **穩定、變速光流法** 等需要高精度計算的精剪效果的話，建議使用H.264，或者您可以導入其他預設。

![](/asset/images/技术/proxy/05.png)

通常到這裡應該有三個項目了，這個時候可以將素材文件夾的素材導入pr中，**pr收錄會自動啟動AME(Adobe Media Encoder)**，並進行轉碼和代理連接

![](/asset/images/技术/proxy/06.png)

如果收錄設置有修改見下圖

![](/asset/images/技术/proxy/07.png)

到這里基本完成了素材的代理生成，現在要讓我們的pr工程啟用代理

![](/asset/images/技术/proxy/08.png)

![](/asset/images/技术/proxy/09.png)

在素材查看器(源)和節目預覽(節目)中把切換代理按鈕拉下來，分別啟動素材代理。 **可以看到素材被替換為一個左右兩邊有兩條小黑邊的代理素材，則為啟動了素材代理**。

# 代理素材+工程打包分發

導入+渲染完所有代理素材後，想要把代理素材全部打包交付給(比如手下或外包團隊)去做的話

首先解除原素材和代理素材之間的關係

![](/asset/images/技术/proxy/10.png)

選中所有原素材，設為脫機（我是直接歸類成一個文件夾）

![](/asset/images/技术/proxy/11.png)

如圖描述，如果是工作分發，自己按理要保留文件，第二項會刪除源文件，看自己需要做選擇

![](/asset/images/技术/proxy/12.png)

這時候就可以準備打包了，如圖↑選擇項目管理（打開之前請先創建一條空序列，打包需求）

![](/asset/images/技术/proxy/13.png)

隨便創建了一個空序列，打包是按序列來打的

右邊記得勾選打包未使用素材，否則是空包。新建工程沒有預覽文件，路徑自定義，下面的估計磁盤空間請按素材代理的總大小來計算（“素材代理”文件夾大小），請確保磁盤上有足夠空間進行打包

![](/asset/images/技术/proxy/14.png)

可以看到打包之後就只有代理素材和工程文件了，打開照樣可以進行剪輯工作

# 回鏈接素材+渲染

1. 代理的素材會在渲染時候默認替換回原來的素材，可以直接渲染

2. 分發返回的剪輯工作，需要重新連接原素材，再讀第一點。

---

# 修訂補充

據隨機測試，Gopro預設把文件壓縮到大約**六分之一到三分之一**，H.264大約壓縮到**十二分之一**

因為素材多種且碼率參數各有不同，數據僅做概率參考

（摳鼻）反正可以手動創建預設