---
title: PSD批量製作字母與aegisub初體驗
tags: ["影視","Ps"]
updated: 2018-02-18
date: 2018-02-18
categories: "影視"
---

## 寫在前面

簡單列一下之前自己在製作視頻字幕踩過的坑：

- 不要使用舊版本AdobePR製作字幕（在PR中，早期的“字幕”和“標題”還是同一個東西的版本）

- 盡量避免使用過於生僻的字，如果使用圖像作為字幕，可以使用拼接。

比較推薦的一些做法：

- aegisub製作ass字幕+小丸壓制

- 使用PS批量導出PSD作為字幕素材（個人比較常用）

還未嘗試的一些做法：

- PR字幕+調整圖層

- Arc-Time在線字幕製作

## aegisub製作ass字幕+小丸壓制

思路：創建一個包含樣式、時間點和台詞的字幕文件，只需要粗剪輯即可分工製作，適合台詞量大的視頻。

- 製作：非常方便

- 修改：方便

- 上手：較難（需要簡單看得懂開發文檔為優）

此處摘抄炮姐第一季第一集ass字幕文件（腳本文件）：(其中分號為官方腳本備註，井號為我自己添加的解釋備註)
```ass
[Script Info] ##這一塊指明了這個腳本的詳細信息，直接英譯中即可
; Script generated by Aegisub 3.0.2
; http://www.aegisub.org/
; // 此字幕由PopSub生成 2014-03-15 17:24:20
; // 版本: 0.77
; // popgo_fansub@yahoo.co.jp
; // 歡迎訪問漫遊天下 http://bbs.popgo.net
Title:漫遊字幕
Original Script:漫遊字幕組
Synch Point:0 ##指明時間偏移量
ScriptType:v4.00+ ##指明腳本版本，通常是4.00+
Collisions:Normal
PlayResX:1280 ##指明字幕的渲染的位置
PlayResY:720
Timer:100.0000 ##計時器速率，此處為100%

[V4+ Styles] ## Ass基於ssa4.00+編碼，這一塊指明了ass樣式，可以直接視為表格

Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
## 從左到右分別指明樣式名、字體名、字體大小、主顏色、次顏色、線外顏色、背景顏色、粗體與否、斜體與否、下劃線與否……（這些直接英譯中即可或查文檔就有了）

Style: jp.sub,EPSON 教科書體Ｍ,32,&H00FFFFFF,&HF0000000,&H008407F3,&H64000000,-1,0,0,0,100,100,0,0.00,1,2,1,2,10,10,10,128
## 顏色值中，表示為長整型 BGR（藍綠紅）值，還包含了 alpha 通道信息，所以如#6611FF應該表示為&H00FF1166

Style: jp.aside,EPSON 教科書體Ｍ,35,&H00FFFFFF,&HF0000000,&H008407F3,&H64000000,-1,0,0,0,100,100,0,0.00,1,2,0,8,30,30,10,128
## 後面的“-1，0，0，0”，中，-1表示有，0表示沒有

Style: cn.sub,微軟雅黑,48,&H00FFFFFF,&HF0000000,&H008407F3,&H64000000,0,0,0,0,100,100,0,0.00,1,2,1,2,30,30,10,134
Style: cn.aside,微軟雅黑,45,&H00FFFFFF,&HF0000000,&H008407F3,&H64000000,0,0,0,0,100,100,0,0.00,1,2,0,8,30,30,10,134
Style: normal.sub,微軟雅黑,45,&H00FFFFFF,&HF0000000,&H00000000,&H64000000,-1,0,0,0,100,100,0,0.00,1,1,0,2,30,30,10,134
Style: normal.aside,微軟雅黑,45,&H00FFFFFF,&HF0000000,&H00000000,&H64000000,-1,0,0,0,100,100,0,0.00,1,1,0,8,30,30,10,134
Style: opjp,EPSON 正楷書體Ｍ,32,&H00FFFFFF,&HF0000000,&H00000000,&HF0000000,-1,0,0,0,100,100,0,0.00,1,3,0,1,15,15,10,128
Style: opcn,Kaiti_GB2312,34,&H00FFFFFF,&HF0000000,&H00000000,&HF0000000,0,0,0,0,100,100,0,0.00,1,3,0,9,15,15,10,1
Style: edjp,EPSON 正楷書體Ｍ,32,&H00FFFFFF,&HF0000000,&H00D93709,&HF0000000,-1,0,0,0,100,100,0,0.00,1,3,0,1,15,15,10,128
Style: edcn,Kaiti_GB2312,34,&H00FFFFFF,&HF0000000,&H00D93709,&HF0000000,-1,0,0,0,100,100,0,0.00,1,3,0,9,15,15,10,1

[Events] ## 此處為按時間出現的字幕事件
Format: Layer, Start, End, Style, Actor, MarginL, MarginR, MarginV, Effect, Text
## 從左到右分別是 圖層、開始、結束、樣式、角色名（編輯和設定時間軸時方便辨認）等等……

Comment: 0,0:00:01.80,0:00:01.80,jp.sub,NTP,0000,0000,0000,,-----OP------
## 最左邊的Comment是標記分類，用於統一管理（開關、改樣式啥的）

Dialogue: 0,0:02:28.87,0:02:31.74,opjp,NTP,0000,0000,0000,,{\fad(50,50)}放て！心に刻んだ夢を
Dialogue: 0,0:02:31.76,0:02:35.53,opjp,NTP,0000,0000,0000,,{\fad(20,50)}未來さえ置き去りにして
Dialogue: 0,0:02:35.64,0:02:38.53,opjp,NTP,0000,0000,0000,,{\fad(50,50)}限界など知らない　意味無い！
Dialogue: 0,0:02:38.55,0:02:47.54,opjp,NTP,0000,0000,0000,,{\fad(50,50)}この能力が光散らす　その先に遙かな想いを
Dialogue: 0,0:02:38.55,0:02:47.54,opjp,NTP,0000,0000,0000,,{\fad(50,50)\pos(76,676)\fs23}チカラ
Dialogue: 0,0:02:49.69,0:02:56.20,opjp,NTP,0000,0000,0000,,{\fad(50,50)}歩いてきた　この道を　振り返ることしか
Dialogue: 0,0:02:56.36,0:03:02.94,opjp,NTP,0000,0000,0000,,{\fad(50,50)}出來ないなら…今ここで全てを壊せる
Dialogue: 0,0:03:03.04,0:03:06.23,opjp,NTP,0000,0000,0000,,{\fad(50,50)}暗闇に墮ちる街並み
Dialogue: 0,0:03:06.29,0:03:09.62,opjp,NTP,0000,0000,0000,,{\fad(50,50)}人はどこまで立ち向かえるの？
```

因為上面較多東西都在ass的格式規範中有提到，上面簡單提到就不再贅述：[ass字幕格式規範](https://github.com/weizhenye/ASS/wiki/ASS-%E5%AD%97%E5%B9%95%E6%A0%BC%E5%BC%8F%E8%A7%84%E8%8C%83)在此。其中提到幾個點注意一下：

1. 行不能被分割

2. 不正確格式的行會被忽略（不會報錯）

3. 當一個風格中指定了系統沒有安裝的字體，會用 Arial 字體代替

4. 使用了未知樣式，將會使用默認的 \*Default 樣式

可以在ass腳本文件中直接修改樣式，或在aegisub中修改樣式（畢竟有得看）配置時間點也是，aegisub中包含各種校準工具和時間軸平移工具

在aegisub完成字幕工作後，導出為ass文件（或者你直接手寫你牛逼也行的），丟到**小丸工具箱**中的字幕壓制中進行壓制即可

## 使用PS批量導出PSD作為字幕素材

思路：在PS中製作一個字幕的模板文件，通過自動化處理，把每一句台詞替換到模板中的指定位置，保持樣式一致。

- 製作：比較方便

- 修改：不方便

- 上手：簡單

![](/asset/images/技术/aegisub/zimu1.png)

![](/asset/images/技术/aegisub/zimu2.png)

![](/asset/images/技术/aegisub/zimu3.png)

![](/asset/images/技术/aegisub/zimu4.png)

該位置可以居中，後統一在pr中尋找位置

![](/asset/images/技术/aegisub/zimu5.png)

![](/asset/images/技术/aegisub/zimu6.png)

![](/asset/images/技术/aegisub/zimu7.png)

![](/asset/images/技术/aegisub/zimu8.png)

![](/asset/images/技术/aegisub/zimu9.png)

![](/asset/images/技术/aegisub/zimu10.png)

由此在pr中導入psd文件手動按時間線排序即可。中英雙字幕則分開製作，步驟一致。

- 修改字幕樣式的方法：
如果要修改全部樣式，可以使用PS自帶的批處理和“動作”的功能，完成對所有字幕PSD文件的批量替換。或者你全部刪掉重新做也是一樣的。在此處計算量比較大

- 修改字幕內容的方法：在PR中無法修改文本，必須切換回PS打開相對應的文件，編輯文字圖層進行修改（單個修改），或者修改原來的txt的文本，再次導出一遍。